<UserControl x:Class="RobotBarApp.View.EventListView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:conv="clr-namespace:RobotBarApp.Converters">
    <UserControl.Resources>
        <DropShadowEffect x:Key="CardShadow"
                          BlurRadius="10"
                          ShadowDepth="3"
                          Opacity="0.4" />
        <conv:PathToImageConverter x:Key="PathToImageConverter" />
    </UserControl.Resources>

    <ScrollViewer Padding="40">
        <ItemsControl ItemsSource="{Binding Events}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <WrapPanel Orientation="Horizontal" />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>

            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Button Command="{Binding DataContext.SelectEventCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                            CommandParameter="{Binding}"
                            Margin="15"
                            Padding="0"
                            Background="Transparent"
                            BorderThickness="0"
                            Cursor="Hand">

                        <Border Width="250" Height="250"
                                CornerRadius="10"
                                Background="White"
                                Effect="{StaticResource CardShadow}"
                                Padding="0">

                            <Grid>
                                <Image Source="{Binding Image, Converter={StaticResource PathToImageConverter}}"
                                       Stretch="UniformToFill"
                                       ClipToBounds="True"/>

                                <Border Background="#80000000"
                                        VerticalAlignment="Bottom"
                                        Height="50">
                                    <TextBlock Text="{Binding Name}"
                                               Foreground="White"
                                               VerticalAlignment="Center"
                                               Margin="15,0"
                                               FontSize="22"/>
                                </Border>
                            </Grid>

                        </Border>
                    </Button>
                </DataTemplate>
            </ItemsControl.ItemTemplate>

        </ItemsControl>
    </ScrollViewer>
</UserControl>
